# Skills & User Skills API å®Œæ•´æ¸¬è©¦å¥—ä»¶

# è¨­å®šå…¨åŸŸè®Šæ•¸
@host = http://localhost:8000
@api_prefix = /api/v1

# æ¸¬è©¦ç”¨çš„æˆæ¬Š tokenï¼ˆè«‹æ›¿æ›ç‚ºæœ‰æ•ˆçš„ JWT tokenï¼‰
@auth_token = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4ODk5Y2UyMy1jODdmLTRhYmQtYTFmOC0xYWUzNWEyNGFmMzQiLCJleHAiOjE3NTgzOTc1NjAsInR5cGUiOiJhY2Nlc3MifQ.3NaX7JeI48hIHlgEg4175pCTsdW6zo_1acysWdX0074

# æ¸¬è©¦ç”¨çš„æŠ€èƒ½å’Œç”¨æˆ¶ IDï¼ˆè«‹åœ¨å¯¦éš›æ¸¬è©¦æ™‚æ›¿æ›ç‚ºçœŸå¯¦çš„ UUIDï¼‰
@skill_id_1 = e8103cf8-72d0-494c-bac9-f243e326fa44
@skill_id_2 = 7dbb5112-0a3e-4138-8a25-5a8ab075bc6e
@skill_id_3 = bf937d19-7b3c-417f-bac7-fbbf696850fa
@skill_id_4 = bc4776b7-8591-4724-8d99-672ef94c93f9
@skill_id_5 = 8fd416fd-6839-49aa-9938-af683cff8268
@user_id_1 = 8899ce23-c87f-4abd-a1f8-1ae35a24af34
@user_id_2 = 3b8ee192-d9b8-44dd-8147-e64d6e3b819b

###############################################################################
# ğŸ“š æŠ€èƒ½ç®¡ç† (Skills API)
###############################################################################

### 1.1 å‰µå»ºåŸºç¤æŠ€èƒ½
POST {{host}}{{api_prefix}}/skills/
Content-Type: application/json

{
    "name": "JavaScript"
}

### 1.2 å‰µå»ºå¤šå€‹æŠ€èƒ½
POST {{host}}{{api_prefix}}/skills/
Content-Type: application/json

{
    "name": "Python Programming"
}

###

POST {{host}}{{api_prefix}}/skills/
Content-Type: application/json

{
    "name": "React.js"
}

### 1.3 æœå°‹æŠ€èƒ½
GET {{host}}{{api_prefix}}/skills/search?keyword=JavaScript

### 1.4 ç²å–æŠ€èƒ½åˆ—è¡¨
GET {{host}}{{api_prefix}}/skills/?skill_ids={{skill_id_1}}&skill_ids={{skill_id_2}}

### 1.5 ç²å–æ‰€æœ‰æŠ€èƒ½ï¼ˆåˆ†é ï¼‰
GET {{host}}{{api_prefix}}/skills/all?skip=0&limit=10

### 1.6 ç²å–ç†±é–€æŠ€èƒ½
GET {{host}}{{api_prefix}}/skills/popular?limit=5

###############################################################################
# ğŸ‘¤ ç”¨æˆ¶æŠ€èƒ½ç®¡ç† (User Skills API)
###############################################################################

### 2.1 ç²å–æˆ‘çš„æŠ€èƒ½
GET {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}

### 2.2 ç²å–å…¶ä»–ç”¨æˆ¶æŠ€èƒ½
GET {{host}}{{api_prefix}}/user_skills/?user_ids={{user_id_1}}&user_ids={{user_id_2}}

### 2.3 ç²å–æˆ‘çš„æŠ€èƒ½çµ±è¨ˆ
GET {{host}}{{api_prefix}}/user_skills/stats/me
Authorization: {{auth_token}}

### 2.4 æ ¹æ“šæŠ€èƒ½IDæŸ¥æ‰¾æ“æœ‰è©²æŠ€èƒ½çš„ç”¨æˆ¶
GET {{host}}{{api_prefix}}/user_skills/search/{{skill_id_1}}?min_level=1&skip=0&limit=10

### 2.5 æŸ¥æ‰¾æ“æœ‰ç‰¹å®šæŠ€èƒ½ä¸”é”åˆ°æŒ‡å®šç­‰ç´šçš„ç”¨æˆ¶
GET {{host}}{{api_prefix}}/user_skills/search/{{skill_id_2}}?min_level=3&skip=0&limit=20

### 2.6 æ¸¬è©¦ä¸å­˜åœ¨çš„æŠ€èƒ½ID
GET {{host}}{{api_prefix}}/user_skills/search/00000000-0000-0000-0000-000000000000?min_level=1

###############################################################################
# âœ… æŠ€èƒ½æ–°å¢æ“ä½œ
###############################################################################

### 3.1 æ–°å¢å–®ä¸€æŠ€èƒ½
POST {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "{{skill_id_4}}",
      "level": 3
    }
  ]
}

### 3.2 æ‰¹é‡æ–°å¢å¤šå€‹æŠ€èƒ½
POST {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "{{skill_id_4}}",
      "level": 4
    },
    {
      "skill_id": "{{skill_id_3}}",
      "level": 2
    }
  ]
}

### 3.3 æ–°å¢è¡çªæ¸¬è©¦ï¼ˆéƒ¨åˆ†æŠ€èƒ½å·²å­˜åœ¨ï¼‰
POST {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "{{skill_id_1}}",
      "level": 5
    },
    {
      "skill_id": "00000000-1111-2222-3333-444444444444",
      "level": 3
    }
  ]
}

###############################################################################
# ğŸ”„ æŠ€èƒ½æ›´æ–°æ“ä½œ
###############################################################################

### 4.1 å®Œæ•´æ›´æ–°ï¼ˆPUTï¼‰- æ›¿æ›æ‰€æœ‰æŠ€èƒ½
PUT {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
    "skills": [
        { "skill_id": "{{skill_id_1}}", "level": 4 },
        { "skill_id": "{{skill_id_3}}", "level": 5 }
    ]
}

### 4.2 éƒ¨åˆ†æ›´æ–°ï¼ˆPATCHï¼‰- åªæ›´æ–°ç¾æœ‰æŠ€èƒ½
PATCH {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
    "skills": [
        { "skill_id": "{{skill_id_1}}", "level": 5 }
    ]
}

### 4.3 PATCH æ¸¬è©¦ - å˜—è©¦æ›´æ–°ä¸å­˜åœ¨çš„æŠ€èƒ½ï¼ˆæœƒè¢«å¿½ç•¥ï¼‰
PATCH {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
    "skills": [
        { "skill_id": "00000000-1111-2222-3333-555555555555", "level": 3 }
    ]
}

###############################################################################
# âŒ æŠ€èƒ½åˆªé™¤æ“ä½œ
###############################################################################

### 5.1 åˆªé™¤å–®ä¸€æŠ€èƒ½
DELETE {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "{{skill_id_3}}",
      "level": 1
    }
  ]
}

### 5.2 æ‰¹é‡åˆªé™¤å¤šå€‹æŠ€èƒ½
DELETE {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "{{skill_id_1}}",
      "level": 1
    },
    {
      "skill_id": "{{skill_id_2}}",
      "level": 1
    }
  ]
}

### 5.3 åˆªé™¤ä¸å­˜åœ¨çš„æŠ€èƒ½æ¸¬è©¦
DELETE {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "00000000-1111-2222-3333-999999999999",
      "level": 1
    }
  ]
}

###############################################################################
# ğŸ§ª å®Œæ•´å·¥ä½œæµç¨‹æ¸¬è©¦
###############################################################################

### 6.1 å·¥ä½œæµç¨‹ï¼šè¨­ç½®åˆå§‹æŠ€èƒ½
PUT {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
    "skills": [
        { "skill_id": "{{skill_id_1}}", "level": 2 },
        { "skill_id": "{{skill_id_2}}", "level": 3 },
        { "skill_id": "{{skill_id_3}}", "level": 1 }
    ]
}

### 6.2 å·¥ä½œæµç¨‹ï¼šæª¢æŸ¥ç•¶å‰æŠ€èƒ½
GET {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}

### 6.3 å·¥ä½œæµç¨‹ï¼šæå‡éƒ¨åˆ†æŠ€èƒ½ç­‰ç´š
PATCH {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
    "skills": [
        { "skill_id": "{{skill_id_1}}", "level": 4 },
        { "skill_id": "{{skill_id_2}}", "level": 5 }
    ]
}

### 6.4 å·¥ä½œæµç¨‹ï¼šç§»é™¤ä½ç­‰ç´šæŠ€èƒ½
DELETE {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "{{skill_id_3}}",
      "level": 1
    }
  ]
}

### 6.5 å·¥ä½œæµç¨‹ï¼šæœ€çµ‚ç‹€æ…‹æª¢æŸ¥
GET {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}

### 6.6 å·¥ä½œæµç¨‹ï¼šç²å–çµ±è¨ˆè³‡è¨Š
GET {{host}}{{api_prefix}}/user_skills/stats/me
Authorization: {{auth_token}}

### 6.7 å·¥ä½œæµç¨‹ï¼šæŸ¥çœ‹èª°æ“æœ‰æˆ‘å‰›æ‰è¨­ç½®çš„æŠ€èƒ½
GET {{host}}{{api_prefix}}/user_skills/search/{{skill_id_1}}?min_level=1&skip=0&limit=50

### 6.8 å·¥ä½œæµç¨‹ï¼šæŸ¥çœ‹é«˜ç­‰ç´šæŠ€èƒ½ç”¨æˆ¶
GET {{host}}{{api_prefix}}/user_skills/search/{{skill_id_2}}?min_level=4&skip=0&limit=10

###############################################################################
# âš ï¸ éŒ¯èª¤è™•ç†æ¸¬è©¦
###############################################################################

### 7.1 ç„¡æ•ˆçš„æŠ€èƒ½IDæ¸¬è©¦
POST {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "00000000-0000-0000-0000-000000000000",
      "level": 1
    }
  ]
}

### 7.2 ç„¡æ•ˆçš„ç­‰ç´šæ¸¬è©¦
POST {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
  "skills": [
    {
      "skill_id": "{{skill_id_1}}",
      "level": 6
    }
  ]
}

### 7.3 ç¼ºå°‘æˆæ¬Šæ¸¬è©¦
GET {{host}}{{api_prefix}}/user_skills/me

### 7.4 ç„¡æ•ˆçš„ç”¨æˆ¶IDæŸ¥è©¢æ¸¬è©¦
GET {{host}}{{api_prefix}}/user_skills/?user_ids=invalid-uuid

### 7.5 ç©ºæŠ€èƒ½åˆ—è¡¨æ¸¬è©¦
PUT {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
    "skills": []
}

### 7.6 æ¸¬è©¦æ ¹æ“šæŠ€èƒ½æŸ¥æ‰¾ç”¨æˆ¶ - ç„¡æ•ˆçš„æŠ€èƒ½IDæ ¼å¼
GET {{host}}{{api_prefix}}/user_skills/search/invalid-uuid-format?min_level=1

### 7.7 æ¸¬è©¦æ ¹æ“šæŠ€èƒ½æŸ¥æ‰¾ç”¨æˆ¶ - ç„¡æ•ˆçš„ç­‰ç´šåƒæ•¸
GET {{host}}{{api_prefix}}/user_skills/search/{{skill_id_1}}?min_level=6

### 7.8 æ¸¬è©¦æ ¹æ“šæŠ€èƒ½æŸ¥æ‰¾ç”¨æˆ¶ - ç„¡æ•ˆçš„åˆ†é åƒæ•¸
GET {{host}}{{api_prefix}}/user_skills/search/{{skill_id_1}}?min_level=1&skip=-1&limit=1000

###############################################################################
# ğŸ—ï¸ æŠ€èƒ½ç®¡ç†é‚Šç•Œæ¸¬è©¦
###############################################################################

### 8.1 å‰µå»ºæŠ€èƒ½ - ç©ºç™½åç¨±ï¼ˆæ‡‰è©²å¤±æ•—ï¼‰
POST {{host}}{{api_prefix}}/skills/
Content-Type: application/json

{
    "name": ""
}

### 8.2 å‰µå»ºæŠ€èƒ½ - è¶…é•·åç¨±ï¼ˆæ‡‰è©²å¤±æ•—ï¼‰
POST {{host}}{{api_prefix}}/skills/
Content-Type: application/json

{
    "name": "This is a very very very very very very very very very very very very very very long skill name that exceeds the maximum allowed length"
}

### 8.3 æœå°‹æŠ€èƒ½ - ç„¡çµæœ
GET {{host}}{{api_prefix}}/skills/search?keyword=NonexistentSkillXYZ123

### 8.4 ç²å–æŠ€èƒ½çµ±è¨ˆ - ä¸å­˜åœ¨çš„æŠ€èƒ½
GET {{host}}{{api_prefix}}/skills/statistics?skill_id=00000000-0000-0000-0000-000000000000

###############################################################################
# ğŸ“‹ æœ€çµ‚æ¸…ç†
###############################################################################

### 9.1 æ¸…ç©ºæ‰€æœ‰ç”¨æˆ¶æŠ€èƒ½
PUT {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}
Content-Type: application/json

{
    "skills": []
}

### 9.2 ç¢ºèªæ¸…ç©ºçµæœ
GET {{host}}{{api_prefix}}/user_skills/me
Authorization: {{auth_token}}